% Remember to use the lgrind style

\Head{}
\File{code/testsuite/GeneTest.java}{2001}{3}{26}{9:47}{1129}
\L{\LB{\K{package}_\V{testsuite};}}
\L{\LB{}}
\L{\LB{\K{import}_\V{neurotic}.*;}}
\L{\LB{}}
\L{\LB{\K{public}_\K{class}_\V{GeneTest}_\{}}
\L{\LB{}}
\index{main}\Proc{main}\L{\LB{}\Tab{2}{\K{public}_\K{static}_\K{void}_\V{main}(\V{String}[\,]_\V{argv})_\{}}
\L{\LB{}\Tab{4}{\V{Net}_\V{net}_=_\K{new}_\V{Net}(\N{2},\N{2},\N{1},\K{false});}}
\L{\LB{}\Tab{6}{}}
\L{\LB{}\Tab{4}{\V{Population}_\V{pop}_=}}
\L{\LB{}\Tab{6}{\K{new}_\V{Population}(\V{net},_\K{new}_\V{XorFitness}(),_\N{400},_\N{0},_\N{4},_\N{6},_\N{4});}}
\L{\LB{}\Tab{4}{\V{pop}.\V{evolve}(\N{50});}}
\L{\LB{}\Tab{4}{\V{net}.\V{setAllWeights}(\V{pop}.\V{fittest}());}}
\L{\LB{}\Tab{4}{\V{testNet}(\V{net});}}
\L{\LB{}\Tab{4}{\V{net}.\V{describeWeights}(\V{System}.\V{err});}}
\L{\LB{}\Tab{4}{\V{net}.\V{dumpWeights}(\V{System}.\V{err});}}
\L{\LB{}}
\L{\LB{}\Tab{2}{\}}}
\L{\LB{}}
\index{testNet}\Proc{testNet}\L{\LB{}\Tab{2}{\K{static}_\K{void}_\V{testNet}(\V{Net}_\V{net})_\{}}
\L{\LB{}\Tab{4}{\K{for}_(\K{int}_\V{i}=\N{0};_\V{i}\<\N{4};_\V{i}++)_\{}}
\L{\LB{}\Tab{6}{\K{int}_\V{a}_=_\V{i}_/_\N{2};}}
\L{\LB{}\Tab{6}{\K{int}_\V{b}_=_\V{i}_\%_\N{2};}}
\L{\LB{}\Tab{6}{\V{net}.\V{setIn}(\N{0},_(\K{float})_\V{a});}}
\L{\LB{}\Tab{6}{\V{net}.\V{setIn}(\N{1},_(\K{float})_\V{b});}}
\L{\LB{}\Tab{6}{\V{net}.\V{think}();}}
\L{\LB{}\Tab{6}{\V{System}.\V{out}.\V{println}(\V{a}+\S{}\3_\3\SE{}+\V{b}+\S{}\3_\3\SE{}+(\V{a}\5\V{b})+\S{}\3_\3\SE{}+\V{net}.\V{getOut}(\N{0}));}}
\L{\LB{}\Tab{4}{\}}}
\L{\LB{}\Tab{2}{\}}}
\L{\LB{}}
\L{\LB{\}}}
\L{\LB{}}
\L{\LB{\K{class}_\V{XorFitness}_\K{implements}_\V{Fitness}_\{}}
\L{\LB{}}
\L{\LB{}\Tab{2}{\C{}//_we{'}ll_always_have_four_environments\CE{}}}
\L{\LB{}\Tab{2}{\K{public}_\K{void}_\V{initEnviros}(\K{int}_\V{n})_\{\};}}
\L{\LB{}}
\index{score}\Proc{score}\L{\LB{}\Tab{2}{\K{public}_\K{float}_\V{score}(\V{Net}_\V{net},_\K{int}_\V{env})_\{}}
\L{\LB{}\Tab{4}{\K{int}_\V{a}_=_\V{env}_/_\N{2};}}
\L{\LB{}\Tab{4}{\K{int}_\V{b}_=_\V{env}_\%_\N{2};}}
\L{\LB{}\Tab{4}{\V{net}.\V{setIn}(\N{0},_(\K{float})_\V{a});}}
\L{\LB{}\Tab{4}{\V{net}.\V{setIn}(\N{1},_(\K{float})_\V{b});}}
\L{\LB{}\Tab{4}{\V{net}.\V{think}();}}
\L{\LB{}\Tab{4}{\K{float}_\V{actual}_=_\V{net}.\V{getOut}(\N{0});}}
\L{\LB{}\Tab{4}{\K{float}_\V{ideal}_=_(\K{float})_(\V{a}\5\V{b});}}
\L{\LB{}\Tab{4}{\K{float}_\V{score}_=}}
\L{\LB{}\Tab{8}{(\K{float})_\V{Math}.\V{pow}(\N{10}*(\N{1}\-\V{Math}.\V{abs}(\V{ideal}\-\V{actual})),\N{1});}}
\L{\LB{}\Tab{4}{\K{if}_(\V{env}==\N{3}_\&\&_\V{actual}\>\N{0.6})_\V{score}_\-=_\N{5};}}
\L{\LB{}\Tab{4}{\K{return}_\V{score};}}
\L{\LB{}\Tab{2}{\}}}
\L{\LB{}}
\L{\LB{\}}}
