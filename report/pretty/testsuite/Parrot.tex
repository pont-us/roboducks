% Remember to use the lgrind style

\Head{}
\File{code/testsuite/Parrot.java}{2001}{2}{26}{15:24}{1131}
\L{\LB{\C{}//_Parrot:_try_to_learn_to_repeat_previous_input\CE{}}}
\L{\LB{}}
\L{\LB{\K{import}_\V{neurotic}.*;}}
\L{\LB{\K{import}_\V{java}.\V{io}.*;}}
\L{\LB{}}
\L{\LB{\K{public}_\K{class}_\V{Parrot}_\{}}
\L{\LB{}}
\L{\LB{}\Tab{2}{\K{static}_\V{java}.\V{util}.\V{Random}_\V{rnd}_=_\K{new}_\V{java}.\V{util}.\V{Random}();}}
\L{\LB{}}
\index{main}\Proc{main}\L{\LB{}\Tab{2}{\K{public}_\K{static}_\K{void}_\V{main}(\V{String}[\,]_\V{argv})_\{}}
\L{\LB{}\Tab{4}{\V{Net}_\V{net}_=_\K{new}_\V{Net}(\N{1},\N{2},\N{1},\K{true});}}
\L{\LB{}\Tab{4}{\V{net}.\V{loadWeights}(\K{new}_\V{File}(\S{}\3test\-wts\3\SE{}));}}
\L{\LB{}\Tab{4}{\K{boolean}_\V{curr},_\V{prev}_=_\K{false};}}
\L{\LB{}}
\L{\LB{}\Tab{4}{\V{net}.\V{rate}_=_\N{0.1f};}}
\L{\LB{}\Tab{4}{\V{net}.\V{momentum}_=_\N{0.0f};}}
\L{\LB{}}
\L{\LB{}\Tab{4}{\V{net}.\V{describeWeights}(\V{System}.\V{err});}}
\L{\LB{}\Tab{4}{\V{net}.\V{dumpWeights}(\V{System}.\V{err});}}
\L{\LB{}}
\L{\LB{}\Tab{4}{\K{if}_(\K{true})_\{}}
\L{\LB{}\Tab{4}{\V{net}.\V{resetDeltas}();}}
\L{\LB{}\Tab{4}{\K{for}_(\K{int}_\V{i}=\N{1};_\V{i}\<\N{100000};_\V{i}++)_\{}}
\L{\LB{}}
\L{\LB{}\Tab{8}{\V{curr}_=_\V{rnd}.\V{nextBoolean}();}}
\L{\LB{}\Tab{8}{\V{net}.\V{setIn}(\N{0},_\V{curr}?_\N{1}_\V{:}_\N{0});}}
\L{\LB{}}
\L{\LB{}\Tab{8}{\V{net}.\V{train}(\K{new}_\K{float}[\,]_\{_\V{prev}_?_\N{1}_\V{:}_\N{0}\});}}
\L{\LB{}\Tab{8}{\V{prev}_=_\V{curr};}}
\L{\LB{}}
\L{\LB{}\Tab{8}{\V{net}.\V{changeWeights}();_\V{net}.\V{resetDeltas}();}}
\L{\LB{}}
\L{\LB{}\Tab{4}{\}}}
\L{\LB{}\Tab{4}{\}}}
\L{\LB{}\Tab{4}{\V{net}.\V{changeWeights}();}}
\L{\LB{}\Tab{4}{\V{net}.\V{flushContext}(\N{0});}}
\L{\LB{}\Tab{4}{\V{net}.\V{dumpActs}(\V{System}.\V{out});}}
\L{\LB{}\Tab{4}{\V{net}.\V{setIn}(\N{0},\N{0});}}
\L{\LB{}\Tab{4}{\V{net}.\V{think}();}}
\L{\LB{}\Tab{4}{\V{net}.\V{dumpActs}(\V{System}.\V{out});}}
\L{\LB{}}
\L{\LB{}\Tab{4}{\K{if}_(\K{true})_\{}}
\L{\LB{}\Tab{4}{\V{prev}_=_\K{false};}}
\L{\LB{}\Tab{4}{\K{for}_(\K{int}_\V{i}=\N{0};_\V{i}\<\N{16};_\V{i}++)_\{}}
\L{\LB{}\Tab{8}{\V{curr}_=_\V{rnd}.\V{nextBoolean}();}}
\L{\LB{}\Tab{8}{\V{net}.\V{setIn}(\N{0},_\V{curr}_?_\N{1}_\V{:}_\N{0});}}
\L{\LB{}\Tab{8}{\V{net}.\V{think}();}}
\L{\LB{}\Tab{8}{\V{System}.\V{out}.\V{println}(_(\V{prev}_?_\S{}\3X_\3\SE{}_\V{:}_\S{}\3._\3\SE{})_+}}
\L{\LB{}\Tab{28}{(\V{curr}_?_\S{}\3X_\3\SE{}_\V{:}_\S{}\3._\3\SE{})_+}}
\L{\LB{}\Tab{28}{(\V{net}.\V{getOut}(\N{0})_));}}
\L{\LB{}\Tab{8}{\V{prev}_=_\V{curr};}}
\L{\LB{}\Tab{4}{\}}}
\L{\LB{}}
\L{\LB{}\Tab{4}{\V{net}.\V{dumpWeights}(\V{System}.\V{err});}}
\L{\LB{}\Tab{4}{\}}}
\L{\LB{}\Tab{2}{\}}}
\L{\LB{}}
\L{\LB{\}}}
