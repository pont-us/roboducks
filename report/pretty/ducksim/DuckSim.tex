% Remember to use the lgrind style

\Head{}
\File{code/ducksim/DuckSim.java}{2001}{4}{13}{9:55}{2635}
\L{\LB{\K{package}_\V{ducksim};}}
\L{\LB{}}
\L{\LB{\K{import}_\V{java}.\V{awt}.*;}}
\L{\LB{\K{import}_\V{java}.\V{awt}.\V{event}.*;}}
\L{\LB{\K{import}_\V{javax}.\V{swing}.*;}}
\L{\LB{\K{import}_\V{java}.\V{awt}.\V{geom}.*;}}
\L{\LB{}}
\L{\LB{\K{class}_\V{RunSim}_\K{extends}_\V{Thread}_\{}}
\L{\LB{}\Tab{2}{\K{boolean}_\V{running};}}
\L{\LB{}\Tab{2}{\V{Arena}_\V{arena};}}
\L{\LB{}\Tab{2}{\K{int}_\V{interval};}}
\index{RunSim}\Proc{RunSim}\L{\LB{}\Tab{2}{\K{public}_\V{RunSim}(\V{Arena}_\V{arena},_\K{int}_\V{interval})_\{}}
\L{\LB{}\Tab{4}{\V{setDaemon}(\K{true});}}
\L{\LB{}\Tab{4}{\K{this}.\V{arena}_=_\V{arena};}}
\L{\LB{}\Tab{4}{\K{this}.\V{interval}_=_\V{interval};}}
\L{\LB{}\Tab{4}{\V{running}_=_\K{false};}}
\L{\LB{}\Tab{2}{\}}}
\index{run}\Proc{run}\L{\LB{}\Tab{2}{\K{public}_\K{void}_\V{run}()_\{}}
\L{\LB{}\Tab{4}{\V{running}_=_\K{true};}}
\L{\LB{}\Tab{4}{\K{while}_(\V{running})_\{}}
\L{\LB{}\Tab{6}{\V{arena}.\V{update}();}}
\L{\LB{}\Tab{6}{\K{try}_\{_\V{Thread}.\V{sleep}(\V{interval});_\}}}
\L{\LB{}\Tab{6}{\K{catch}_(\V{InterruptedException}_\V{e})_\{\}}}
\L{\LB{}\Tab{4}{\}}}
\L{\LB{}\Tab{2}{\}}}
\index{pleaseStop}\Proc{pleaseStop}\L{\LB{}\Tab{2}{\K{public}_\K{void}_\V{pleaseStop}()_\{_\V{running}_=_\K{false};_\}}}
\L{\LB{\}}}
\L{\LB{}}
\L{\LB{\K{public}_\K{class}_\V{DuckSim}_\{}}
\L{\LB{}}
\L{\LB{}\Tab{2}{\V{Arena}_\V{arena};}}
\L{\LB{}}
\L{\LB{}\Tab{2}{\K{class}_\V{StepAction}_\K{extends}_\V{AbstractAction}_\{}}
\index{StepAction}\Proc{StepAction}\L{\LB{}\Tab{4}{\K{public}_\V{StepAction}(\V{String}_\V{t})_\{_\K{super}(\V{t});_\}}}
\index{actionPerformed}\Proc{actionPerformed}\L{\LB{}\Tab{4}{\K{public}_\K{void}_\V{actionPerformed}(\V{ActionEvent}_\V{e})_\{}}
\L{\LB{}\Tab{6}{\V{arena}.\V{update}();}}
\L{\LB{}\Tab{4}{\}}}
\L{\LB{}\Tab{2}{\}}}
\L{\LB{}}
\L{\LB{}\Tab{2}{\K{class}_\V{StartStopAction}_\K{extends}_\V{AbstractAction}_\{}}
\L{\LB{}\Tab{4}{\V{RunSim}_\V{runsim};}}
\index{StartStopAction}\Proc{StartStopAction}\L{\LB{}\Tab{4}{\K{public}_\V{StartStopAction}(\V{String}_\V{t})_\{_\K{super}(\V{t});_\}}}
\index{actionPerformed}\Proc{actionPerformed}\L{\LB{}\Tab{4}{\K{public}_\K{void}_\V{actionPerformed}(\V{ActionEvent}_\V{e})_\{}}
\L{\LB{}\Tab{6}{\K{if}_(((\V{String})_\V{getValue}(\V{NAME})).\V{equalsIgnoreCase}(\S{}\3Start\3\SE{}))_\{}}
\L{\LB{}\Tab{8}{\V{runsim}}\Tab{16}{=_\K{new}_\V{RunSim}(\V{arena},_\N{10});}}
\L{\LB{}\Tab{8}{\V{runsim}.\V{start}();}}
\L{\LB{}\Tab{8}{\V{putValue}(\V{NAME},\S{}\3Stop\3\SE{});}}
\L{\LB{}\Tab{6}{\}_\K{else}_\{}}
\L{\LB{}\Tab{8}{\V{runsim}.\V{pleaseStop}();}}
\L{\LB{}\Tab{8}{\V{putValue}(\V{NAME},\S{}\3Start\3\SE{});}}
\L{\LB{}\Tab{6}{\}}}
\L{\LB{}\Tab{4}{\}}}
\L{\LB{}\Tab{2}{\}}}
\L{\LB{}}
\L{\LB{}\Tab{2}{\K{class}_\V{ResetAction}_\K{extends}_\V{AbstractAction}_\{}}
\index{ResetAction}\Proc{ResetAction}\L{\LB{}\Tab{4}{\K{public}_\V{ResetAction}(\V{String}_\V{t})_\{_\K{super}(\V{t});_\}}}
\index{actionPerformed}\Proc{actionPerformed}\L{\LB{}\Tab{4}{\K{public}_\K{void}_\V{actionPerformed}(\V{ActionEvent}_\V{e})_\{}}
\L{\LB{}\Tab{6}{\V{arena}.\V{resetRandom}(\K{true});}}
\L{\LB{}\Tab{6}{\V{arena}.\V{repaint}();}}
\L{\LB{}\Tab{4}{\}}}
\L{\LB{}\Tab{2}{\}}}
\L{\LB{}}
\index{main}\Proc{main}\L{\LB{}\Tab{2}{\K{public}_\K{static}_\K{void}_\V{main}(\V{String}[\,]_\V{args})}}
\L{\LB{}\Tab{2}{\{_\V{DuckSim}_\V{ducksim}_=_\K{new}_\V{DuckSim}();_\}}}
\L{\LB{}}
\index{DuckSim}\Proc{DuckSim}\L{\LB{}\Tab{2}{\K{public}_\V{DuckSim}()_\{}}
\L{\LB{}\Tab{4}{\V{arena}_=_\K{new}_\V{Arena}(\N{10});}}
\L{\LB{}\Tab{4}{\V{AnimalModel}_\V{duckModel}_=_\K{new}_\V{ChengDucks}(\V{arena});}}
\L{\LB{}\Tab{4}{\V{arena}.\V{setDuckModel}(\V{duckModel});}}
\L{\LB{}\Tab{4}{\V{AnimalModel}_\V{dogModel}_=_\K{new}_\V{DogBreeder}(\V{arena},_\V{arena});}}
\L{\LB{}\Tab{4}{\V{arena}.\V{setDogModel}(\V{dogModel});}}
\L{\LB{}}
\L{\LB{}\Tab{4}{\K{try}_\{}}
\L{\LB{}\Tab{6}{\V{UIManager}.\V{setLookAndFeel}}}
\L{\LB{}\Tab{8}{(\V{UIManager}.\V{getCrossPlatformLookAndFeelClassName}());}}
\L{\LB{}\Tab{4}{\}_\K{catch}_(\V{Exception}_\V{e})_\{_\}}}
\L{\LB{}}
\L{\LB{}\Tab{4}{\C{}//_Control_frame\CE{}}}
\L{\LB{}\Tab{4}{}}
\L{\LB{}\Tab{4}{\V{JToolBar}_\V{toolbar}_=_\K{new}_\V{JToolBar}(\V{JToolBar}.\V{VERTICAL});}}
\L{\LB{}\Tab{4}{\V{JFrame}_\V{cframe}_=_\K{new}_\V{JFrame}(\S{}\3Duck_control\3\SE{});}}
\L{\LB{}\Tab{4}{\V{cframe}.\V{getContentPane}().\V{add}(\V{toolbar});}}
\L{\LB{}}
\L{\LB{}\Tab{4}{\V{toolbar}.\V{setLayout}(\K{new}_\V{GridLayout}(\N{3},\N{1}));}}
\L{\LB{}\Tab{4}{\V{toolbar}.\V{add}(\K{new}_\V{StepAction}(\S{}\3Step\3\SE{}));}}
\L{\LB{}\Tab{4}{\V{toolbar}.\V{add}(\K{new}_\V{StartStopAction}(\S{}\3Start\3\SE{}));}}
\L{\LB{}\Tab{4}{\V{toolbar}.\V{add}(\K{new}_\V{ResetAction}(\S{}\3Reset\3\SE{}));}}
\L{\LB{}}
\L{\LB{}\Tab{4}{\V{cframe}.\V{pack}();}}
\L{\LB{}\Tab{4}{\V{cframe}.\V{setVisible}(\K{true});}}
\L{\LB{}}
\L{\LB{}\Tab{4}{\C{}//_Set_windows_to_kill_app_on_closure_/_Q_keypress\CE{}}}
\L{\LB{}}
\L{\LB{}\Tab{4}{\V{WindowAdapter}_\V{killOnClose}_=_\K{new}_\V{WindowAdapter}()_\{}}
\L{\LB{}\Tab{8}{\K{public}_\K{void}_\V{windowClosing}(\V{WindowEvent}_\V{e})}}
\L{\LB{}\Tab{8}{\{_\V{System}.\V{exit}(\N{0});_\}}}
\L{\LB{}\Tab{6}{\};}}
\L{\LB{}\Tab{4}{\V{cframe}.\V{addWindowListener}(\V{killOnClose});}}
\L{\LB{}}
\L{\LB{}\Tab{4}{\V{KeyListener}_\V{killOnQ}_=_\K{new}_\V{KeyAdapter}()_\{}}
\L{\LB{}\Tab{8}{\K{public}_\K{void}_\V{keyTyped}(\V{KeyEvent}_\V{e})_\{}}
\L{\LB{}\Tab{10}{\K{if}_(\V{e}.\V{getKeyChar}()_==_\S{}{'}q{'}\SE{}_\|\,\|}}
\L{\LB{}\Tab{14}{\V{e}.\V{getKeyChar}()_==_\S{}{'}Q{'}\SE{}_)_\V{System}.\V{exit}(\N{0});}}
\L{\LB{}\Tab{8}{\}}}
\L{\LB{}\Tab{6}{\};}}
\L{\LB{}\Tab{4}{\V{cframe}.\V{addKeyListener}(\V{killOnQ});}}
\L{\LB{}\Tab{2}{\}}}
\L{\LB{\}}}
