% Remember to use the lgrind style

\Head{}
\File{code/neurotic/Link.java}{2001}{4}{12}{18:02}{1264}
\L{\LB{\K{package}_\V{neurotic};}}
\L{\LB{}}
\L{\LB{\K{import}_\V{java}.\V{util}.*;}}
\L{\LB{}}
\L{\LB{\C{}/*_A_Link_sits_between_two_Axons._Storing_stuff_like_the}}
\L{\LB{}\Tab{3}{weight_in_one_or_the_other_of_them_leads_to_problems_when}}
\L{\LB{}\Tab{3}{the_other_one_wants_to_get_at_it;_this_is_neater.}}
\L{\LB{*/\CE{}}}
\L{\LB{\K{class}_\V{Link}_\{}}
\L{\LB{}\Tab{2}{\V{Axon}_\V{input};}\Tab{24}{\C{}//_input_neuron\CE{}}}
\L{\LB{}\Tab{2}{\V{Axon}_\V{output};}\Tab{24}{\C{}//_output_neuron\CE{}}}
\L{\LB{}\Tab{2}{\K{float}_\V{weight};}\Tab{24}{\C{}//_weighting_of_input\CE{}}}
\L{\LB{}\Tab{2}{\K{boolean}_\V{trainable};}\Tab{24}{\C{}//_backlinks_aren{'}t_trainable\CE{}}}
\L{\LB{}\Tab{2}{\K{float}_\V{wacc};}\Tab{24}{\C{}//_accumulator_for_batch_update\CE{}}}
\L{\LB{}\Tab{2}{\K{float}_\V{dw};}\Tab{24}{\C{}//_change_in_weight_(need_to_save_for_momentum)\CE{}}}
\L{\LB{}}
\index{Link}\Proc{Link}\L{\LB{}\Tab{2}{\K{public}_\V{Link}(\V{Axon}_\V{i},_\K{boolean}_\V{t},_\K{float}_\V{w},_\K{float}_\V{range})}}
\L{\LB{}\Tab{2}{\{_\K{this}(\V{i},_\V{t},_\V{w},_\V{range},_\K{new}_\V{Random}());_\}}}
\L{\LB{}}
\L{\LB{}\Tab{2}{\C{}//}\Tab{14}{input}\Tab{22}{trainable?_mean_wt}\Tab{42}{range_of_weights\CE{}}}
\index{Link}\Proc{Link}\L{\LB{}\Tab{2}{\K{public}_\V{Link}(\V{Axon}_\V{i},_\K{boolean}_\V{t},_\K{float}_\V{w},_\K{float}_\V{range},_\V{Random}_\V{rnd})_\{}}
\L{\LB{}\Tab{4}{\V{input}_=_\V{i};}}
\L{\LB{}\Tab{4}{\V{output}_=_\K{null};}\Tab{24}{\C{}//_this_will_be_set_during_Neuron_construction\CE{}}}
\L{\LB{}\Tab{4}{\V{trainable}_=_\V{t};}}
\L{\LB{}\Tab{4}{\V{wacc}_=_\V{dw}_=_\N{0f};}}
\L{\LB{}\Tab{4}{\K{if}_(_(!\V{t})_\&\&_(\V{w}!=\N{1.0f}_\|\,\|_\V{range}!=\N{0f})_\&\&_\V{Debug}.\V{on})}}
\L{\LB{}\Tab{6}{\V{System}.\V{err}.\V{println}(\S{}\3Warning:_you{'}d_expect_a_non\-trainable_\3\SE{}+}}
\L{\LB{}\Tab{25}{\S{}\3link_to_have_a_weight_of_1.\3\SE{});}}
\L{\LB{}\Tab{4}{\V{randomizeWeight}(\V{w},_\V{range},_\V{rnd});}}
\L{\LB{}\Tab{2}{\}}}
\L{\LB{}}
\index{randomizeWeight}\Proc{randomizeWeight}\L{\LB{}\Tab{2}{\K{public}_\K{void}_\V{randomizeWeight}(\K{float}_\V{mean},_\K{float}_\V{range})}}
\L{\LB{}\Tab{2}{\{_\V{randomizeWeight}(\V{mean},_\V{range},_\K{new}_\V{Random}());_\}}}
\L{\LB{}}
\index{randomizeWeight}\Proc{randomizeWeight}\L{\LB{}\Tab{2}{\K{public}_\K{void}_\V{randomizeWeight}(\K{float}_\V{mean},_\K{float}_\V{range},_\V{Random}_\V{rnd})}}
\L{\LB{}\Tab{2}{\{_\V{weight}_=_\V{mean}_+_\V{rnd}.\V{nextFloat}()*\V{range}_\-_\V{range}/\N{2};_\}}}
\L{\LB{\}}}
\L{\LB{}}
